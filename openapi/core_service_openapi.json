{"openapi":"3.1.0","info":{"title":"Amazon Tracker - Core Service","description":"Amazon产品追踪核心业务服务API","version":"1.0.0"},"paths":{"/metrics":{"get":{"summary":"Get Metrics","description":"Prometheus metrics端点","operationId":"get_metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/products/":{"post":{"tags":["products"],"summary":"Create Product","description":"创建新产品","operationId":"create_product_api_v1_products__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_create_product_api_v1_products__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["products"],"summary":"List Products","description":"获取产品列表","operationId":"list_products_api_v1_products__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductListResponse"},"title":"Response List Products Api V1 Products  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/search":{"post":{"tags":["products"],"summary":"Search Products","description":"搜索产品","operationId":"search_products_api_v1_products_search_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_search_products_api_v1_products_search_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProductListResponse"},"title":"Response Search Products Api V1 Products Search Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}":{"get":{"tags":["products"],"summary":"Get Product","description":"获取产品详情","operationId":"get_product_api_v1_products__product_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["products"],"summary":"Update Product","description":"更新产品","operationId":"update_product_api_v1_products__product_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_product_api_v1_products__product_id__put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["products"],"summary":"Delete Product","description":"删除产品（软删除）","operationId":"delete_product_api_v1_products__product_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}/price-history":{"get":{"tags":["products"],"summary":"Get Price History","description":"获取产品价格历史","operationId":"get_price_history_api_v1_products__product_id__price_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/{product_id}/rank-history":{"get":{"tags":["products"],"summary":"Get Rank History","description":"获取产品排名历史","operationId":"get_rank_history_api_v1_products__product_id__rank_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/products/batch-operation":{"post":{"tags":["products"],"summary":"Batch Operation","description":"批量操作产品","operationId":"batch_operation_api_v1_products_batch_operation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_batch_operation_api_v1_products_batch_operation_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/products/stats/overview":{"get":{"tags":["products"],"summary":"Get Product Stats","description":"获取产品统计概览","operationId":"get_product_stats_api_v1_products_stats_overview_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/alerts/":{"post":{"tags":["alerts"],"summary":"Create Alert","description":"创建价格提醒","operationId":"create_alert_api_v1_alerts__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_create_alert_api_v1_alerts__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["alerts"],"summary":"List Alerts","description":"获取价格提醒列表","operationId":"list_alerts_api_v1_alerts__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"product_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Product Id"}},{"name":"alert_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alert Type"}},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AlertResponse"},"title":"Response List Alerts Api V1 Alerts  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/alerts/{alert_id}":{"get":{"tags":["alerts"],"summary":"Get Alert","description":"获取价格提醒详情","operationId":"get_alert_api_v1_alerts__alert_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["alerts"],"summary":"Update Alert","description":"更新价格提醒","operationId":"update_alert_api_v1_alerts__alert_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_update_alert_api_v1_alerts__alert_id__put"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["alerts"],"summary":"Delete Alert","description":"删除价格提醒","operationId":"delete_alert_api_v1_alerts__alert_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/alerts/{alert_id}/toggle":{"post":{"tags":["alerts"],"summary":"Toggle Alert","description":"切换价格提醒状态","operationId":"toggle_alert_api_v1_alerts__alert_id__toggle_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"integer","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/alerts/check-triggers":{"post":{"tags":["alerts"],"summary":"Check Alert Triggers","description":"手动检查提醒触发条件","operationId":"check_alert_triggers_api_v1_alerts_check_triggers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/alerts/stats/summary":{"get":{"tags":["alerts"],"summary":"Get Alert Stats","description":"获取提醒统计信息","operationId":"get_alert_stats_api_v1_alerts_stats_summary_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/market-trends/analyze":{"post":{"tags":["market-trends"],"summary":"Analyze Market Trends","description":"分析市场趋势 - 暂时禁用","operationId":"analyze_market_trends_api_v1_market_trends_analyze_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/market-trends/categories":{"get":{"tags":["market-trends"],"summary":"Get Trending Categories","description":"获取热门趋势分类 - 暂时禁用","operationId":"get_trending_categories_api_v1_market_trends_categories_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/market-trends/brands":{"get":{"tags":["market-trends"],"summary":"Get Trending Brands","description":"获取热门趋势品牌 - 暂时禁用","operationId":"get_trending_brands_api_v1_market_trends_brands_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/market-trends/price-analysis":{"get":{"tags":["market-trends"],"summary":"Analyze Price Trends","description":"专门的价格趋势分析 - 暂时禁用","operationId":"analyze_price_trends_api_v1_market_trends_price_analysis_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/market-trends/market-summary":{"get":{"tags":["market-trends"],"summary":"Get Market Summary","description":"获取市场总结 - 简化版本","operationId":"get_market_summary_api_v1_market_trends_market_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"marketplace","in":"query","required":false,"schema":{"$ref":"#/components/schemas/MarketplaceType","default":"amazon_us"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/generate":{"post":{"tags":["reports"],"summary":"Generate Report","description":"生成报告","operationId":"generate_report_api_v1_reports_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportGenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]},{"HTTPBearer":[]}]}},"/api/v1/reports/":{"get":{"tags":["reports"],"summary":"List Reports","description":"获取报告列表","operationId":"list_reports_api_v1_reports__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Report Type"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReportResponse"},"title":"Response List Reports Api V1 Reports  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/{report_id}":{"get":{"tags":["reports"],"summary":"Get Report","description":"获取报告详情","operationId":"get_report_api_v1_reports__report_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["reports"],"summary":"Delete Report","description":"删除报告","operationId":"delete_report_api_v1_reports__report_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/{report_id}/download":{"get":{"tags":["reports"],"summary":"Download Report","description":"下载报告文件","operationId":"download_report_api_v1_reports__report_id__download_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/{report_id}/preview":{"get":{"tags":["reports"],"summary":"Preview Report","description":"预览报告内容（仅限Markdown格式）","operationId":"preview_report_api_v1_reports__report_id__preview_get","security":[{"HTTPBearer":[]},{"HTTPBearer":[]}],"parameters":[{"name":"report_id","in":"path","required":true,"schema":{"type":"string","title":"Report Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/cleanup-expired":{"post":{"tags":["reports"],"summary":"Cleanup Expired Reports","description":"清理过期报告","operationId":"cleanup_expired_reports_api_v1_reports_cleanup_expired_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/reports/templates/available":{"get":{"tags":["reports"],"summary":"Get Available Templates","description":"获取可用的报告模板","operationId":"get_available_templates_api_v1_reports_templates_available_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/reports/stats/usage":{"get":{"tags":["reports"],"summary":"Get Report Usage Stats","description":"获取报告使用统计","operationId":"get_report_usage_stats_api_v1_reports_stats_usage_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"default":30,"title":"Days"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bulk-import/asins":{"post":{"tags":["bulk-import"],"summary":"Bulk Import By Asins","description":"通过ASIN列表批量导入产品","operationId":"bulk_import_by_asins_api_v1_bulk_import_asins_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_bulk_import_by_asins_api_v1_bulk_import_asins_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkImportResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/bulk-import/csv":{"post":{"tags":["bulk-import"],"summary":"Bulk Import From Csv","description":"通过CSV文件批量导入产品\n\nCSV格式要求:\nasin,title,brand,category,marketplace,tracking_frequency\nB07ABC123,Product Title,Brand Name,electronics,AMAZON_US,daily","operationId":"bulk_import_from_csv_api_v1_bulk_import_csv_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_bulk_import_from_csv_api_v1_bulk_import_csv_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkImportResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/bulk-import/template":{"get":{"tags":["bulk-import"],"summary":"Download Csv Template","description":"下载CSV导入模板","operationId":"download_csv_template_api_v1_bulk_import_template_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/bulk-import/demo-products":{"post":{"tags":["bulk-import"],"summary":"Import Demo Products","description":"导入预设的Demo产品（蓝牙耳机）","operationId":"import_demo_products_api_v1_bulk_import_demo_products_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkImportResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/":{"get":{"summary":"Root","description":"根路径","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/me":{"get":{"summary":"Get Current User Info","description":"获取当前用户信息","operationId":"get_current_user_info_api_v1_me_get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AlertCreateRequest":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"alert_type":{"type":"string","title":"Alert Type","description":"Alert type: price_drop, price_target, rank_change, stock_alert"},"target_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Value","description":"Target price or rank"},"threshold_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threshold Percentage","description":"Percentage change threshold"},"is_active":{"type":"boolean","title":"Is Active","default":true},"notification_methods":{"items":{"type":"string"},"type":"array","title":"Notification Methods","description":"Notification methods","default":["email"]}},"type":"object","required":["product_id","alert_type"],"title":"AlertCreateRequest","description":"创建价格提醒请求"},"AlertResponse":{"properties":{"id":{"type":"integer","title":"Id"},"product_id":{"type":"integer","title":"Product Id"},"alert_type":{"type":"string","title":"Alert Type"},"target_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Target Value"},"threshold_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Threshold Percentage"},"current_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Value"},"is_active":{"type":"boolean","title":"Is Active"},"notification_methods":{"items":{"type":"string"},"type":"array","title":"Notification Methods"},"last_triggered_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Triggered At"},"trigger_count":{"type":"integer","title":"Trigger Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","product_id","alert_type","target_value","threshold_percentage","current_value","is_active","notification_methods","last_triggered_at","trigger_count","created_at"],"title":"AlertResponse","description":"价格提醒响应"},"BatchOperationRequest":{"properties":{"product_ids":{"items":{"type":"integer"},"type":"array","maxItems":100,"minItems":1,"title":"Product Ids"},"operation":{"type":"string","title":"Operation","description":"Operation: activate, deactivate, delete, update_frequency"},"parameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Parameters"}},"type":"object","required":["product_ids","operation"],"title":"BatchOperationRequest","description":"批量操作请求"},"BatchOperationResponse":{"properties":{"operation_id":{"type":"string","title":"Operation Id"},"operation":{"type":"string","title":"Operation"},"total_items":{"type":"integer","title":"Total Items"},"successful_items":{"type":"integer","title":"Successful Items"},"failed_items":{"type":"integer","title":"Failed Items"},"errors":{"items":{"additionalProperties":{"type":"string"},"type":"object"},"type":"array","title":"Errors"},"completed_at":{"type":"string","format":"date-time","title":"Completed At"}},"type":"object","required":["operation_id","operation","total_items","successful_items","failed_items","errors","completed_at"],"title":"BatchOperationResponse","description":"批量操作响应"},"Body_batch_operation_api_v1_products_batch_operation_post":{"properties":{"request":{"$ref":"#/components/schemas/BatchOperationRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_batch_operation_api_v1_products_batch_operation_post"},"Body_bulk_import_by_asins_api_v1_bulk_import_asins_post":{"properties":{"request":{"$ref":"#/components/schemas/BulkImportRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_bulk_import_by_asins_api_v1_bulk_import_asins_post"},"Body_bulk_import_from_csv_api_v1_bulk_import_csv_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["file","token_data"],"title":"Body_bulk_import_from_csv_api_v1_bulk_import_csv_post"},"Body_create_alert_api_v1_alerts__post":{"properties":{"request":{"$ref":"#/components/schemas/AlertCreateRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_create_alert_api_v1_alerts__post"},"Body_create_product_api_v1_products__post":{"properties":{"request":{"$ref":"#/components/schemas/ProductCreateRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_create_product_api_v1_products__post"},"Body_search_products_api_v1_products_search_post":{"properties":{"request":{"$ref":"#/components/schemas/ProductSearchRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_search_products_api_v1_products_search_post"},"Body_update_alert_api_v1_alerts__alert_id__put":{"properties":{"request":{"$ref":"#/components/schemas/AlertCreateRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_update_alert_api_v1_alerts__alert_id__put"},"Body_update_product_api_v1_products__product_id__put":{"properties":{"request":{"$ref":"#/components/schemas/ProductUpdateRequest"},"token_data":{"$ref":"#/components/schemas/TokenData"}},"type":"object","required":["request","token_data"],"title":"Body_update_product_api_v1_products__product_id__put"},"BulkImportRequest":{"properties":{"asins":{"items":{"type":"string"},"type":"array","maxItems":50,"minItems":1,"title":"Asins"},"marketplace":{"$ref":"#/components/schemas/MarketplaceType","default":"amazon_us"},"tracking_frequency":{"$ref":"#/components/schemas/TrackingFrequency","default":"daily"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"auto_crawl":{"type":"boolean","title":"Auto Crawl","default":true}},"type":"object","required":["asins"],"title":"BulkImportRequest","description":"批量导入请求"},"BulkImportResult":{"properties":{"total_requested":{"type":"integer","title":"Total Requested"},"successful_imports":{"type":"integer","title":"Successful Imports"},"failed_imports":{"type":"integer","title":"Failed Imports"},"duplicate_products":{"type":"integer","title":"Duplicate Products"},"import_details":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Import Details"},"failed_asins":{"items":{"type":"string"},"type":"array","title":"Failed Asins"}},"type":"object","required":["total_requested","successful_imports","failed_imports","duplicate_products","import_details","failed_asins"],"title":"BulkImportResult","description":"批量导入结果"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MarketplaceType":{"type":"string","enum":["amazon_us","amazon_uk","amazon_de","amazon_fr","amazon_jp","amazon_ca","amazon_au","amazon_in"],"title":"MarketplaceType","description":"市场类型枚举"},"ProductCreateRequest":{"properties":{"asin":{"type":"string","maxLength":10,"minLength":10,"title":"Asin","description":"Amazon ASIN"},"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title","description":"Product title"},"brand":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Brand","description":"Brand name"},"category":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Category","description":"Product category"},"marketplace":{"$ref":"#/components/schemas/MarketplaceType","description":"Marketplace","default":"amazon_us"},"tracking_frequency":{"$ref":"#/components/schemas/TrackingFrequency","description":"Tracking frequency","default":"daily"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Product tags"},"notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Notes","description":"User notes"}},"type":"object","required":["asin"],"title":"ProductCreateRequest","description":"创建产品请求"},"ProductListResponse":{"properties":{"id":{"type":"integer","title":"Id"},"asin":{"type":"string","title":"Asin"},"title":{"type":"string","title":"Title"},"brand":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Brand"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"marketplace":{"$ref":"#/components/schemas/MarketplaceType"},"current_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Price"},"current_rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Rank"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating"},"review_count":{"type":"integer","title":"Review Count"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"tracking_frequency":{"$ref":"#/components/schemas/TrackingFrequency"},"is_active":{"type":"boolean","title":"Is Active"},"status":{"$ref":"#/components/schemas/ProductStatus"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"last_crawled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Crawled At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","asin","title","brand","category","marketplace","current_price","current_rank","rating","review_count","image_url","tracking_frequency","is_active","status","tags","last_crawled_at","created_at"],"title":"ProductListResponse","description":"产品列表响应"},"ProductResponse":{"properties":{"id":{"type":"integer","title":"Id"},"asin":{"type":"string","title":"Asin"},"title":{"type":"string","title":"Title"},"brand":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Brand"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"marketplace":{"$ref":"#/components/schemas/MarketplaceType"},"current_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Current Price"},"current_rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Rank"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating"},"review_count":{"type":"integer","title":"Review Count"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"availability":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Availability"},"tracking_frequency":{"$ref":"#/components/schemas/TrackingFrequency"},"is_active":{"type":"boolean","title":"Is Active"},"status":{"$ref":"#/components/schemas/ProductStatus"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"last_crawled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Crawled At"},"next_crawl_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Next Crawl At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","asin","title","brand","category","marketplace","current_price","current_rank","rating","review_count","image_url","availability","tracking_frequency","is_active","status","tags","notes","last_crawled_at","next_crawl_at","created_at","updated_at"],"title":"ProductResponse","description":"产品响应"},"ProductSearchRequest":{"properties":{"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query","description":"Search query"},"asin":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Asin","description":"Search by ASIN"},"brand":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Brand","description":"Filter by brand"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Filter by category"},"marketplace":{"anyOf":[{"$ref":"#/components/schemas/MarketplaceType"},{"type":"null"}],"description":"Filter by marketplace"},"min_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Min Price","description":"Minimum price"},"max_price":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Max Price","description":"Maximum price"},"min_rating":{"anyOf":[{"type":"number","maximum":5.0,"minimum":0.0},{"type":"null"}],"title":"Min Rating","description":"Minimum rating"},"tracking_frequency":{"anyOf":[{"$ref":"#/components/schemas/TrackingFrequency"},{"type":"null"}]},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProductStatus"},{"type":"null"}]},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Filter by tags"},"sort_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort By","description":"Sort field","default":"created_at"},"sort_order":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort Order","description":"Sort order","default":"desc"}},"type":"object","title":"ProductSearchRequest","description":"产品搜索请求"},"ProductStatsResponse":{"properties":{"total_products":{"type":"integer","title":"Total Products"},"active_products":{"type":"integer","title":"Active Products"},"inactive_products":{"type":"integer","title":"Inactive Products"},"by_marketplace":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Marketplace"},"by_category":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Category"},"by_tracking_frequency":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Tracking Frequency"},"avg_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Price"},"avg_rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Rating"},"price_range":{"additionalProperties":{"type":"number"},"type":"object","title":"Price Range"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"}},"type":"object","required":["total_products","active_products","inactive_products","by_marketplace","by_category","by_tracking_frequency","avg_price","avg_rating","price_range","last_updated"],"title":"ProductStatsResponse","description":"产品统计响应"},"ProductStatus":{"type":"string","enum":["active","inactive","deleted","monitoring","error"],"title":"ProductStatus","description":"产品状态枚举"},"ProductUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Title"},"brand":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Brand"},"category":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Category"},"tracking_frequency":{"anyOf":[{"$ref":"#/components/schemas/TrackingFrequency"},{"type":"null"}]},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Product tags"},"notes":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Notes"}},"type":"object","title":"ProductUpdateRequest","description":"更新产品请求"},"ReportGenerateRequest":{"properties":{"report_type":{"type":"string","title":"Report Type","description":"Report type: competitor_analysis","default":"competitor_analysis"},"main_product_id":{"type":"integer","title":"Main Product Id","description":"Main product ID for comparison"},"competitor_product_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Competitor Product Ids","description":"Competitor product IDs (if not provided, will select automatically)"},"time_period":{"type":"string","title":"Time Period","description":"Time period","default":"30d"},"include_charts":{"type":"boolean","title":"Include Charts","description":"Include charts in report","default":true},"format":{"type":"string","title":"Format","description":"Report format: markdown","default":"markdown"}},"type":"object","required":["main_product_id"],"title":"ReportGenerateRequest","description":"报告生成请求"},"ReportResponse":{"properties":{"report_id":{"type":"string","title":"Report Id"},"report_type":{"type":"string","title":"Report Type"},"status":{"type":"string","title":"Status"},"file_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Url"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["report_id","report_type","status","file_url","file_size","created_at","expires_at"],"title":"ReportResponse","description":"报告响应"},"TokenData":{"properties":{"user_id":{"type":"integer","title":"User Id"},"tenant_id":{"type":"string","title":"Tenant Id"},"email":{"type":"string","title":"Email"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"is_super_admin":{"type":"boolean","title":"Is Super Admin","default":false},"roles":{"items":{"type":"string"},"type":"array","title":"Roles"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"},"session_id":{"type":"string","title":"Session Id"},"exp":{"type":"string","format":"date-time","title":"Exp"},"iat":{"type":"string","format":"date-time","title":"Iat"},"jti":{"type":"string","title":"Jti"}},"type":"object","required":["user_id","tenant_id","email","session_id","exp","iat","jti"],"title":"TokenData","description":"JWT Token数据结构"},"TrackingFrequency":{"type":"string","enum":["hourly","every_6_hours","daily","weekly","monthly"],"title":"TrackingFrequency","description":"追踪频率枚举"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}